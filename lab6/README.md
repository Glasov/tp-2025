# Лабораторная работа 6: Рефакторинг и Code Smells

## Описание
Рефакторинг кода обработки заказов для улучшения читаемости, поддерживаемости и соблюдения принципов SOLID.

## Исходный код
Исходный код в файле `order_processing.py` содержит следующие code smells:

### Найденные проблемы:
1. **Длинная функция** - `process_checkout()` делает слишком много
2. **Магические числа** - 0.10, 0.20, 0.05, 0.21, 50, 10, 200, 100
3. **Повторяющаяся логика** - валидация, расчёты
4. **Сложные условные конструкции** - вложенные if-elif для купонов
5. **Нарушение SRP** - функция отвечает за парсинг, валидацию, расчёты, форматирование



### 1. Вынесение констант
```python
DEFAULT_CURRENCY = "USD"
DEFAULT_TAX_RATE = 0.21
COUPON_DISCOUNTS = {
    "SAVE10": 0.10,
    "SAVE20": {"threshold": 200, "high": 0.20, "low": 0.05},
    "VIP": {"base": 50, "min_subtotal": 100, "fallback": 10}
}