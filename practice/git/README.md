# Лаба 1 - Git

На лекции о гите мы узнали немного о том, как он работает изнутри, в этой лабе научимся им пользоваться.

Git представляет из себя утилиту для командной строки, которая называется `git`

# Что нужно сделать

1. Установить git
2. Настроить git
3. Зарегистрироваться на github
4. Добавить ssh-ключ
5. Создать форк
6. Склонировать репозиторий
7. Создать ветку
8. Сделать коммит
9. Запушить локальные коммиты в удалённый репозиторий
10. Создать запрос на слияние

# Содержание

## 1. Установка

На Linux git чаще всего уже установлен. Проверить можно так:

```bash
git --version
```

Если не установлен - качаем отсюда: git-scm.com/downloads

## 2. Регистрация на GitHub

Заходим на [github.com](github.com) и создаём аккаунт

## 3. Настройка git

Зададим имя и почту - они будут прикрепляться к каждому коммиту (лучше в качетсве имени и почты использовать те же, что и при регистрации на github):

```bash
git config --global user.name "Ваше имя"
git config --global user.email "ваш@email.com"
```

## 4. Добавление ssh-ключа

SSH - специальный криптографический протокол для передачи информации по незащищённым каналам. Подробнее можно почитать [здесь](https://ru.wikipedia.org/wiki/SSH)

SSH-ключи используются для авторизации на github и генерируются ТОЛЬКО локально. При генерации создаются два ключа - приватный и публичный. Приватный остаёся на вашем устройстве, **его нельзя передавать никуда!**
Публичный ключ же передавать можно куда угодно, как раз он используется для подтверждения, что отправитель сообщения именно вы.

Github предоставляет инструкцию по генерации ssh-ключа для каждой платформы: [инструкция](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent?platform=linux)

## 5. Создание форка

Форк - копия репозитория, с которым можно работать независимо от основного репозитория. Все новые изменения не будут видны в исходном репозиторие, однако на их можно предложить слить в него через запрос на слияние. Форки как правило используются для open-source проектов, где добавлять права изменения каждому желающему невозможно, и каждый создаёт свой проект и вносит в него нужные изменения, не влияя на основную кодовую базу.

Для создания форка перейдём в наш репозиторий: https://github.com/Glasov/test-1

И нажмём на кнопку "Fork":

<img width="1728" height="901" alt="Снимок экрана 2025-10-06 в 17 14 09" src="https://github.com/user-attachments/assets/aa7e2baa-aaec-4ef6-b96b-f37dd25202bc" />

## 6. Клонироваеие репозитория

Создание локального репозитория возможно по команде `git init`, однако в случае, когда удалённый репозиторий уже есть, лучше подходит команда `git clone` - она создаёт локальный репозиторий и сразу скачивает данные из удалённого.

Склонируем его локально при помощи ssh:

```bash
git clone git@github.com:Glasov/test-1.git # !!! Тут надо указать ваш репозиторий !!!
```

git автоматически создаст директорию `test-1` с нашим репозиторием:

<img width="570" height="161" alt="image" src="https://github.com/user-attachments/assets/bf6cec2b-d25d-4379-93cb-acc766945f7c" />

## 7. Создание ветки

Самый важный инструмент для совместной работ над проектом в git - ветки. Они позволяют независимо работать нескольким разработчикам, не мешая друг другу.

Для создания ветки и переключения между ними воспользуемся командой `git checkout`:

```bash
git checkout -b feature/<ваша фамилия на английском>
```

Флаг `-b` создаст ветку, а не только переключится на неё.

При помощи команды git status убедимся, что ветка была создана:

<img width="570" height="92" alt="image" src="https://github.com/user-attachments/assets/cfd6b2c0-41c2-461b-be17-5ba78e990244" />

Теперь у нас есть две ветки: main и ваша ветка

<img width="445" height="714" alt="image" src="https://github.com/user-attachments/assets/98809907-410b-4b78-a0cf-3ff7346d0a36" />

## 8. Создадим коммит

Создадим директорию с вашей фамилией и файл README.md в нём (команды указаны на bash):

```bash
mkdir <ваша фамилия на английском>
cd <ваша фамилия на английском>
echo '# Hello, git!' > README.md
cat README.md
cd ..
```

После выполнения этих команд увидим содержание файла README.md:

<img width="571" height="75" alt="image" src="https://github.com/user-attachments/assets/e3147c96-8c9f-4f3a-bc19-a9ea95cf43c7" />

Если сейчас попробуем создать коммит, ничего не получится, так как мы не пометили, что хотим видеть созданный файл в следующем коммите.

При запуске команды `git commit` увидим:

<img width="570" height="104" alt="image" src="https://github.com/user-attachments/assets/f58f58d8-02e6-40c6-a53e-205dd86f7bce" />

Для создания коммита нужно сначала добавить созданный файл в индекс - специальный файл, где указываем изменения, которые хотим видеть в следующем коммите.

Для добавления используем команду `git add`:

```bash
git add .
```

Вместо точки можно указать явно какие файлы нам нужны. При указании точки добавляются все файлы текущей директории.

Теперь в результате команды `git status` увидим, что файл был добавлен в индекс и будет в следующем коммите:

<img width="571" height="129" alt="image" src="https://github.com/user-attachments/assets/dcdada6b-1ef2-4903-81d4-1d9e20847662" />

Создадим коммит:

```bash
git commit -m "add README.md"
```

Флаг `-m` обязателен, он указывает сообщение коммита. Лучше указывать осознанное сообщение, которое отражает изменения в коммите.
Очень не советую писать "пдялвоартвылд", "fix", "asd" и так далее, тем более если работаете в команде - вам спасибо не скажут.

В результате получим вывод:

<img width="569" height="76" alt="image" src="https://github.com/user-attachments/assets/8dfaa913-0370-4ea5-b11b-f07502e9ee52" />

Теперь наш репозиторий выглядит примерно следующим образом:

<img width="474" height="827" alt="image" src="https://github.com/user-attachments/assets/5193d551-c731-439e-a180-bf1f498c6c00" />

То есть мы создали новый коммит не в основной ветке, а в новой, независимой от следующих изменений в main.

## 9. Push изменений

Теперь у нас возникла ситуация, в которой локально изменения у нас есть, но на github они не видны. Чтобы отправить новые коммиты на гитхаб, возпользуемся командой `git push`:

```bash
git push origin feature/<ваша фамилия на английском>
```

В результате получим сообщение:

<img width="570" height="206" alt="image" src="https://github.com/user-attachments/assets/9afb4cba-330f-4179-ad1c-dfcd37f01646" />

Мы успешно отправили наши изменения на github!

## 10. Создание pull-request

Для слияния веток в git используем команду `git merge`, но для управляемого процесса слияния веток используются запросы на слияние в github (который называются pull-request, а не по-человечески как в gitlab - merge-request).

Для создания pull-request переходим в ваш форк-репозиторий:

<img width="1728" height="708" alt="image" src="https://github.com/user-attachments/assets/8f3f668d-8faa-4775-a214-9e697ac6ba69" />

 Далее можем либо перейти по кнопке `Compare & pull request`, либо создать его во вкладке `Pull-requests` по кнопке `New pull request`:

 <img width="1722" height="849" alt="image" src="https://github.com/user-attachments/assets/4eb41de0-946f-4b4f-b43f-708a07ea19a6" />

В качестве base указываем куда мы хотим слить - main

В качестве compare - что мы хотим слить в base - feature/<ваша фамилия на английском>

В качестве base repository - репозиторий, из которого сделали форк

<img width="1728" height="897" alt="image" src="https://github.com/user-attachments/assets/7baf7963-ab3e-457b-a553-fcbf20180363" />

Нажимаем на `Create pull request`:

<img width="1728" height="890" alt="image" src="https://github.com/user-attachments/assets/f30a2a39-b7cc-48eb-98be-88b1e45f8848" />

Указываем заголовок и описание запроса на слияние, в секции `Reviewers` можно указать Glasov. В `Assignees` указываем себя (кнопкой `assign yourself`) и нажимаем `Create pull request`:

<img width="1728" height="898" alt="image" src="https://github.com/user-attachments/assets/fcff4a50-39a8-49ab-8af5-1ffc1a517303" />

Всё! Мы создали запрос на слияние!
